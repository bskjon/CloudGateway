# Cloud Gateway
Gateway to interact with 3rd party cloud solutions that requires a endpoint where the apps should interact for some reason.
In order to enable connectivity and functionality with Googles Firebase, a configuration file is required.
<br><br>
Cloud gateway uses Google's Firebase Cloud Messaging in order to send out notifications.
In order to be able to run your own, you will need to create a project in Firebase and extract the service account file, where the required authentication information is provided.
<br><br>
Cloud gateway exists as a docker image, as well as binary

## Running Cloud Gateway
[Docker](docs/Docker.md)

[Standard -Single instnace](docs/FCM%20Single%20Instance.md)<br>
[Standard - Multi instnace](docs/FCM%20Multi%20Instance.md)<br>


# Endpoint
- your.domain/devices/send


## Payload
- Json Value

| Type              | Name                  | Description|
|-------------------|---------------------- |------------|
| String            | appPackage            | Package name of your application, ex: com.example.android |
| String            | fcmSenderToken        | Sender token generated by firebase on your device         |
| String list       | fcmTargets            | Firebase tokens that you want to send the payload to      |
| String map        | payload               | Payload you want to send   |

```json
{
  "appPackage": "com.example.app",
  "fcmSenderToken": "0000-000000-0000",
  "fcmTargets": [
    "0000-000000-0001",
    "0000-000000-0002",
    "0000-000000-0003"
  ],
  "payload": {
    "title": "Example",
    "message": "This is an example of payload",
    "level": "SILENT"
  }
}
```

If you intend to send JSON data with different data types than `String`, then the only way is to encode it as a string before passing it to the gateway, as `String` is the only supported datatype